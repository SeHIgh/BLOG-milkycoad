name: Deploy Monitor

on:
  push:
    branches: [main, master]
  workflow_dispatch:

jobs:
  deploy-check:
    runs-on: ubuntu-latest

    steps:
      - name: ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      - name: ë°°í¬ ì‹œì‘ ì•Œë¦¼
        run: |
          echo "ğŸš€ Vercel ë°°í¬ ì‹œì‘"
          echo "â° ë°°í¬ ì‹œê°„: $(date)"
          echo "ğŸ“¦ ì»¤ë°‹: ${{ github.sha }}"
          echo "ğŸ‘¤ ì‘ì„±ì: ${{ github.actor }}"

      - name: ëŒ€ê¸° ì‹œê°„ (ë°°í¬ ì™„ë£Œ ëŒ€ê¸°)
        run: sleep 30

      - name: ë°°í¬ ì™„ë£Œ í™•ì¸
        run: |
          echo "âœ… ë°°í¬ í”„ë¡œì„¸ìŠ¤ ì™„ë£Œ"
          echo "ğŸŒ ì‚¬ì´íŠ¸ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤"
          echo "ğŸ”— ë°°í¬ URL: https://your-blog-url.vercel.app"

  health-check:
    runs-on: ubuntu-latest
    needs: deploy-check

    steps:
      - name: ì‚¬ì´íŠ¸ ìƒíƒœ í™•ì¸
        run: |
          echo "ğŸ” ì‚¬ì´íŠ¸ ìƒíƒœ í™•ì¸ ì¤‘..."
          # ì‹¤ì œ ì‚¬ì´íŠ¸ URLë¡œ ë³€ê²½í•˜ì„¸ìš”
          # curl -f https://your-blog-url.vercel.app || exit 1
          echo "âœ… ì‚¬ì´íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™ ì¤‘ì…ë‹ˆë‹¤"
